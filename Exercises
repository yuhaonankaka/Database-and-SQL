with v1 AS
(SELECT distinct s.name
FROM studenten s, hoeren h
WHERE s.matrnr = h.matrnr)
,v2 as (select distinct s2.name from studenten s2)
select  v2.name
from v2
where v2.name not in (select * from v1)

 



select s.name
from studenten s,professoren p ,vorlesungen v , hoeren h , pruefen pr
where p.name = 'Russel' and p.persnr = v.gelesenvon and v.vorlnr = h.vorlnr and s.matrnr = h.matrnr 
union
select s.name
from studenten s,professoren p, pruefen pr
where  p.name = 'Russel' and p.persnr = pr.persnr and pr.matrnr = s.matrnr 





select s.matrnr,s.name
from studenten s,pruefen p,vorlesungen v
where s.matrnr = p.matrnr and v.vorlnr = p.vorlnr and v.titel = 'Ethik'


select s.name
from studenten s,vorlesungen v1,vorlesungen v2,voraussetzen vor,hoeren h
where s.matrnr = h.matrnr and h.vorlnr = v1.vorlnr and v2.titel = 'Wissenschaftstheorie' 
and vor.vorgaenger = v1.vorlnr and vor.nachfolger = v2.vorlnr


select count(*) as numberofstudents,s.semester
from studenten s
group by s.semester
order by s.semester asc



select a1.name,a1.boss
from assistenten a1,assistenten a2
where a1.boss = a2.boss and a1.name<>a2.name



select p.persnr,p.name,sum(v.sws) as sum
from professoren p,vorlesungen v
where v.gelesenvon = p.persnr 
group by p.persnr,p.name
having sum(v.sws) >=6





with vvv1 as (select h1.vorlnr,s1.matrnr,s1.name
from studenten s1,hoeren h1
where h1.matrnr = s1.matrnr)
,vvv2 as (select h2.vorlnr,s2.matrnr,s2.name
from studenten s2,hoeren h2
where h2.matrnr = s2.matrnr)
select vvv1.name,vvv2.name
from vvv1,vvv2,vorlesungen v
where vvv1.vorlnr = vvv2.vorlnr and vvv1.matrnr <> vvv2.matrnr and v.titel = 'Grundz√ºge' and v.vorlnr = vvv1.vorlnr
order by vvv1.name




select v.vorlnr,v.titel
from vorlesungen v
where v.vorlnr not in
(select distinct h.vorlnr
from hoeren h)




select a.persnr,a.name
from studenten s,hoeren h,assistenten a,vorlesungen v
where s.name = 'Fichte' and s.matrnr = h.matrnr and h.vorlnr = v.vorlnr and v.gelesenvon = a.boss 




select distinct m1,s.name 
from (select matrnr as m1,vorgaenger as v1
from hoeren h,voraussetzen vo
where vorlnr = nachfolger ),hoeren h2,studenten s
where m1 = h2.matrnr and v1 not in (select hoeren.vorlnr from hoeren where hoeren.matrnr = m1) and m1 = s.matrnr




select distinct s.name
from studenten s,vorlesungen v,professoren p,hoeren h
where p.name = 'Sokrates' and p.persnr = v.gelesenvon and v.vorlnr = h.vorlnr and s.matrnr = h.matrnr





select s2.name
from studenten s1,studenten s2,hoeren h1,hoeren h2
where s1.name = 'Fichte' and s1.matrnr = h1.matrnr and h1.vorlnr = h2.vorlnr and s2.matrnr = h2.matrnr and s1.matrnr<>s2.matrnr



select a.*
from assistenten a,studenten s,hoeren h,vorlesungen v
where s.name = 'Fichte' and s.matrnr = h.matrnr and h.vorlnr = v.vorlnr and v.gelesenvon = a.boss



select p.name
from studenten s,professoren p,hoeren h,vorlesungen v
where s.name = 'Xenokrates' and s.matrnr = h.matrnr and h.vorlnr = v.vorlnr and v.gelesenvon = p.persnr


select distinct v.titel
from vorlesungen v,studenten s,hoeren h
where v.vorlnr = h.vorlnr and s.matrnr = h.matrnr and s.semester>0 and s.semester<5
